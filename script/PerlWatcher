#!/usr/bin/env perl

use 5.12.0;
use strict;
use warnings;

use Carp;
use Devel::Comments;
use Hash::Merge qw( merge );
use FindBin;

BEGIN { unshift @INC, "$FindBin::Bin/../lib" }

use App::PerlWatcher::Bootstrap qw/get_home_file config engine_config/;
use App::PerlWatcher::Engine;
use App::PerlWatcher::ui::Gtk2::Application;

my $config = merge(
    engine_config(), 
    config( 
        get_home_file(
            'gtk2.conf',
            'App::PerlWatcher::ui::Gtk2::Application',
            'examples/Gtk2.conf.example',
        )
    )
);

my $backend = 'Gtk2';
my $engine = App::PerlWatcher::Engine->new($config, $backend);
my $app = App::PerlWatcher::ui::Gtk2::Application->new($engine);

$engine->frontend( $app );

$app->show;
$engine->start;

1;

